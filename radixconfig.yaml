apiVersion: radix.equinor.com/v1
kind: RadixApplication
metadata:
  name: flow-landpage-test
spec:
  environments:
    - name: dev
      build:
        from: master
  components:
    - name: redis
      image: bitnami/redis:latest
      secrets:
        - REDIS_PASSWORD
      ports:
        - name: redis
          port: 6379
    - name: frontend
      src: frontend
      publicPort: http
      ports:
        - name: http
          port: 8001
      environmentConfig:
        - environment: dev
          authentication:
            oauth2:
              clientId: d826142e-d4f6-4664-b463-6d99fc81fb90
              scope: openid profile email offline_access
              setXAuthRequestHeaders: true
              setAuthorizationHeader: false
              sessionStoreType: redis
              redisStore:
                connectionUrl: redis://redis:6379
  dnsAppAlias:
    environment: dev
    component: frontend
